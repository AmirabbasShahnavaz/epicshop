{% extends 'base.html' %}

{% load static %}
{% load poll_extras %}
{% load poll_extras %}

{% block title %}
    {% if order_transaction.status == 'PAID' %}
        پرداخت موفق
    {% elif order_transaction.status == 'FAILED' %}
        پرداخت ناموفق
    {% endif %}
{% endblock %}

{% block bread_camp %}
    <li class="breadcrumb-item"><a class="font-14 text-muted-two" href="{% url 'home_page' %}">خانه</a></li>
    <li class="breadcrumb-item"><a class="font-14 text-muted-two">سفارش من</a></li>
    {% if order_transaction.status == 'PAID' %}
        <li aria-current="page" class="breadcrumb-item active main-color-one-color font-14 fw-bold">پرداخت موفق!</li>
    {% elif order_transaction.status == 'FAILED' %}
        <li aria-current="page" class="breadcrumb-item active main-color-one-color font-14 fw-bold">پرداخت ناموق!</li>
    {% endif %}
{% endblock %}

{% block content %}
    <div class="content">
        <div class="container-fluid">

            <style>
                .line-step-box.complete:nth-child(3)::before {
                    width: 100%;
                }

                .line-step-box.complete:nth-child(2)::before {
                    width: 100%;
                }

                .line-step-box.complete:nth-child(1)::before {
                    width: 100%;
                }
            </style>

            <div class="line-step-container d-sm-block d-none">
                <div class="line-step">
                    <div class="line-step-boxs">
                        <div class="line-step-box complete">
                            <a href="">
                                <p>سبد خرید</p>
                                <div class="icon">
                                    1
                                </div>
                            </a>
                        </div>
                        <div class="line-step-box complete">
                            <a href="">
                                <p>جزییات پرداخت</p>
                                <div class="icon">
                                    2
                                </div>
                            </a>
                        </div>
                        <div class="line-step-box complete">
                            <a href="">
                                <p>تکمیل سفارش</p>
                                <div class="icon">
                                    3
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="cart-product-item">
                <div class="container-fluid">
                    <div class="alert bg-white shadow-box">
                        <div class="row justify-content-center">
                            <div class="col-xl-6">
                                <div class="payment">
                                    <div class="text-center">
                                        {% if order_transaction.status == 'PAID' %}
                                            <img src="{% static 'assets/img/success-payment.svg' %}" alt="">
                                            <h6 class="mt-3 text-success fs-5 fw-bold">پرداخت شما موفق بود!</h6>
                                        {% elif order_transaction.status == 'FAILED' %}
                                            <img src="{% static 'assets/img/fail-payment.svg' %}" alt="">
                                            <h6 class="mt-3 text-danger fs-5 fw-bold">پرداخت شما ناموفق بود!</h6>
                                        {% endif %}
                                    </div>
                                    <div class="payment-detail">
                                        <div class="payment-detail-item">
                                            <h6 class="text-muted h5 fw-light">تاریخ و زمان</h6>
                                            <h5>{{ order_transaction.created_at|to_shamsi }}</h5>
                                        </div>
                                        <div class="payment-detail-item">
                                            <h6 class="text-muted h5 fw-light">وضعیت</h6>
                                            {% if order_transaction.status == 'PAID' %}
                                                <h5 class="success-label">پرداخت موفق</h5>
                                            {% elif order_transaction.status == 'FAILED' %}
                                                <h5 class="danger-label">پرداخت ناموفق</h5>
                                            {% endif %}
                                        </div>
                                        <div class="payment-detail-item">
                                            <h6 class="text-muted h5 fw-light">شماره پیگیری</h6>
                                            <h5>5269531</h5>
                                        </div>
                                        <div class="payment-detail-item">
                                            <h6 class="text-muted h5 fw-light">نوع عملیات</h6>
                                            <h5>پرداخت سفارش</h5>
                                        </div>
                                        <div class="payment-detail-item">
                                            <h6 class="text-muted h5 fw-light">مبلغ پرداختی</h6>
                                            <h5>تومان {{ order_transaction.amount|persian_amount }}</h5>
                                        </div>
                                    </div>
                                    <div class="text-center">
                                        <a href="{% url 'user_panel_order_list_page' %}"
                                           class="mt-5 fw-bold fs-5 span-primary bg-transparent rounded-0 d-inline-block">رفتن
                                            به پنل کاربری</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}